(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{123:function(t,e,n){"use strict";n.r(e);var i=n(0),c=n.n(i),r=n(15),o=n.n(r),a=(n(69),n(12)),s=n.n(a),u=n(22),p=n(26),f=n(60),d=n(29),j=n.n(d),l=n(144),O=n(142),b=n(5),v=Object(O.a)((function(t){return{root:{width:"100%","& > * + *":{marginTop:t.spacing(2)}}}}));function h(t){var e=t.type,n=t.text,i=t.setNotificationVisible,c=t.userId,r=t.notification,o=t.setSkipped,a=t.skipped,p=v(),f=function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!1),t.next=3,j.a.post("http://localhost:8080/api/v1/user/notification",{userId:c,notification:r});case 3:o(3===a?1:function(t){return t+1});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsx)("div",{className:p.root,children:Object(b.jsx)(l.a,{onClick:f,elevation:6,variant:"filled",severity:e,children:function(t){var e=t;if(e.match(/sale/i)&&(e+="!"),e.match(/new/i)&&(e="~~"+e+"~~"),e.toLowerCase().includes("limited edition")){var n=e.split(" "),i=n.map((function(t){return t.toLowerCase()})).indexOf("limited");n[i]=n[i].toUpperCase(),n[i+1]=n[i+1].toUpperCase(),e=n.join(" ")}return e}(n)})})}Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT;function x(){var t=Object(i.useState)(),e=Object(p.a)(t,2),n=e[0],c=e[1],r=Object(i.useState)(),o=Object(p.a)(r,2),a=o[0],d=o[1],l=Object(i.useState)(!1),O=Object(p.a)(l,2),v=O[0],x=O[1],m=Object(i.useState)(0),S=Object(p.a)(m,2),w=S[0],T=S[1],k=function(){var t=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=f.io.connect("http://localhost:8080/")).on("connect",function(){var t=Object(u.a)(s.a.mark((function t(n){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Connected to server"),t.next=3,j.a.post("http://localhost:8080/api/v1/user/init",{id:e.id});case 3:i=t.sent,c(i.data.user._id),e.on("notification",(function(t){t&&(T((function(t){return 1===t||2===t?t+=1:t})),d(t),x(!0))})),e.on("disconnect",(function(){console.log("Disconnected from server")}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){k()}),[]),Object(i.useEffect)((function(){a&&setTimeout((function(){x(!1)}),1e3*a.appearTime)}),[a]),Object(b.jsx)("div",{children:2!==w&&v&&Object(b.jsx)(h,{type:a.type,text:a.text,setNotificationVisible:x,userId:n,notification:a,setSkipped:T,skipped:w})})}var m=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(x,{})})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root"))},69:function(t,e,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.5d885873.chunk.js.map